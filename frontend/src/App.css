@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap");
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme {
  /* Aesthetic Color Palette - Soft, Modern, Cozy */
  --color-rose-50: hsl(350 100% 97%);
  --color-rose-100: hsl(350 95% 92%);
  --color-rose-200: hsl(350 90% 85%);
  --color-rose-300: hsl(350 85% 75%);
  --color-rose-400: hsl(350 80% 65%);
  --color-rose-500: hsl(350 75% 55%);

  --color-lavender-50: hsl(270 50% 96%);
  --color-lavender-100: hsl(270 45% 90%);
  --color-lavender-200: hsl(270 40% 82%);
  --color-lavender-300: hsl(270 35% 72%);
  --color-lavender-400: hsl(270 30% 62%);
  --color-lavender-500: hsl(270 25% 52%);

  --color-mint-50: hsl(160 50% 96%);
  --color-mint-100: hsl(160 45% 90%);
  --color-mint-200: hsl(160 40% 82%);
  --color-mint-300: hsl(160 35% 72%);

  --color-cream-50: hsl(40 30% 98%);
  --color-cream-100: hsl(40 25% 95%);
  --color-cream-200: hsl(40 20% 90%);

  --color-slate-50: hsl(220 15% 96%);
  --color-slate-100: hsl(220 12% 90%);
  --color-slate-200: hsl(220 10% 80%);
  --color-slate-300: hsl(220 8% 65%);
  --color-slate-400: hsl(220 6% 50%);
  --color-slate-500: hsl(220 8% 35%);
  --color-slate-600: hsl(220 10% 25%);
  --color-slate-700: hsl(220 12% 18%);
  --color-slate-800: hsl(220 15% 12%);
  --color-slate-900: hsl(220 18% 8%);
}

@layer base {
  * {
    @apply box-border;
  }

  html {
    font-family: "Inter", "Noto Sans", sans-serif;
    letter-spacing: 0.02em;
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%; /* Prevent text size adjustment on iOS */
  }

  body {
    @apply bg-gradient-to-br from-cream-50 via-rose-50 to-lavender-50 min-h-screen;
    overflow-x: hidden; /* Prevent horizontal scroll on mobile */
  }

  .input-box {
    @apply relative grid items-center;
  }

  .input-box input {
    @apply focus:outline-none p-3 px-4 rounded-xl ring-2 ring-lavender-200 bg-white/90 backdrop-blur-sm text-slate-700 placeholder-slate-400 transition-all duration-200 focus:ring-rose-300 focus:bg-white;
    font-size: 16px; /* Prevents zoom on iOS */
    min-height: 44px; /* Minimum touch target */
  }

  .record-input {
    @apply focus:outline-none p-3 px-4 rounded-xl ring-2 ring-slate-200 bg-white text-slate-700 placeholder-slate-400 transition-all duration-200 focus:ring-rose-300 focus:bg-white;
    font-size: 16px; /* Prevents zoom on iOS */
    min-height: 44px; /* Minimum touch target */
  }

  select.record-input {
    @apply appearance-none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 40px;
  }

  @media (max-width: 480px) {
    .input-box input,
    .record-input {
      @apply p-2.5 px-3;
    }
  }

  .global-button {
    @apply grid place-items-center p-3 px-6 bg-gradient-to-r from-rose-400 to-lavender-400 text-white cursor-pointer rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 font-medium;
    min-height: 44px; /* Minimum touch target size for mobile */
  }

  .sales-table {
    @apply w-full;
  }

  .sales-table th {
    @apply px-4 py-3 text-left text-sm font-semibold text-slate-700 bg-slate-50/50 first:rounded-tl-xl last:rounded-tr-xl;
  }

  .sales-table td {
    @apply px-4 py-3 text-slate-600 border-b border-slate-100;
  }

  .dashboard-card {
    @apply p-6 rounded-2xl grid relative gap-3 w-full transition-all duration-300 hover:shadow-xl hover:scale-[1.02];
    background: linear-gradient(135deg, var(--color-rose-200) 0%, var(--color-lavender-200) 100%);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .dashboard-card h2 {
    @apply text-4xl md:text-5xl font-bold text-white drop-shadow-sm;
  }

  .dashboard-card p {
    @apply text-base md:text-lg text-white/90 font-medium;
  }

  .dashboard-card i {
    @apply absolute text-5xl md:text-6xl opacity-20 right-4 top-4 text-white;
  }

  .dashboard-card button {
    @apply bg-white/30 backdrop-blur-sm p-3 text-white font-medium rounded-xl cursor-pointer hover:bg-white/40 transition-all duration-200 border border-white/20;
  }

  /* Responsive table wrapper */
  .table-wrapper {
    @apply overflow-x-auto -mx-4 px-4;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  }

  @media (max-width: 768px) {
    .table-wrapper {
      @apply -mx-0 px-0;
    }
  }

  /* Mobile card view for tables */
  @media (max-width: 768px) {
    .sales-table thead {
      @apply hidden;
    }

    .sales-table tbody tr {
      @apply block mb-4 bg-white rounded-xl shadow-md p-4 border border-slate-100;
    }

    .sales-table tbody td {
      @apply block px-0 py-2.5 border-0 text-sm;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sales-table tbody td:not(:last-child) {
      @apply border-b border-slate-100 pb-3 mb-2;
    }

    .sales-table tbody td:before {
      content: attr(data-label);
      @apply font-semibold text-slate-600 block text-xs uppercase tracking-wide mr-4 flex-shrink-0;
    }

    /* Stack label and value vertically for complex content */
    .sales-table tbody td[data-label="Picture"] {
      @apply flex-col items-start;
    }

    .sales-table tbody td[data-label="Picture"]:before {
      @apply mb-2;
    }

    .sales-table tbody td[data-label="Actions"] {
      @apply justify-end pt-3 border-t border-slate-200 mt-2;
    }

    .sales-table tbody td[data-label="Actions"]:before {
      @apply hidden;
    }

    .sales-table tbody td[data-label="Date"] {
      @apply flex-col items-start;
    }
  }

  /* Small mobile devices */
  @media (max-width: 480px) {
    .dashboard-card {
      @apply p-4;
    }

    .dashboard-card h2 {
      @apply text-3xl;
    }

    .dashboard-card p {
      @apply text-sm;
    }

    .dashboard-card i {
      @apply text-4xl right-3 top-3;
    }

    /* Ensure buttons have proper touch targets on small screens */
    button, .global-button {
      min-height: 44px;
      min-width: 44px;
    }
  }
}
